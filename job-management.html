<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Management System</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    function JobManagementSystem() {
      const [jobs, setJobs] = useState([]);
      const [formData, setFormData] = useState({
        jobName: '',
        orderNo: '',
        dueDate: '',
        steps: [],
        requirements: []
      });
      const [stepInput, setStepInput] = useState('');
      const [reqInput, setReqInput] = useState('');
      const [editingId, setEditingId] = useState(null);

      const addStep = () => {
        if (stepInput.trim()) {
          setFormData({...formData, steps: [...formData.steps, stepInput]});
          setStepInput('');
        }
      };

      const addRequirement = () => {
        if (reqInput.trim()) {
          setFormData({...formData, requirements: [...formData.requirements, reqInput]});
          setReqInput('');
        }
      };

      const removeStep = (index) => {
        setFormData({
          ...formData,
          steps: formData.steps.filter((_, i) => i !== index)
        });
      };

      const removeRequirement = (index) => {
        setFormData({
          ...formData,
          requirements: formData.requirements.filter((_, i) => i !== index)
        });
      };

      const saveJob = () => {
        if (!formData.jobName || !formData.orderNo) {
          alert('Job name and order number are required');
          return;
        }

        if (editingId !== null) {
          setJobs(jobs.map(job => 
            job.id === editingId ? {...formData, id: editingId} : job
          ));
          setEditingId(null);
        } else {
          setJobs([...jobs, {...formData, id: Date.now()}]);
        }

        setFormData({
          jobName: '',
          orderNo: '',
          dueDate: '',
          steps: [],
          requirements: []
        });
      };

      const editJob = (job) => {
        setFormData({
          jobName: job.jobName,
          orderNo: job.orderNo,
          dueDate: job.dueDate,
          steps: [...job.steps],
          requirements: [...job.requirements]
        });
        setEditingId(job.id);
      };

      const deleteJob = (id) => {
        setJobs(jobs.filter(job => job.id !== id));
      };

      const cancelEdit = () => {
        setFormData({
          jobName: '',
          orderNo: '',
          dueDate: '',
          steps: [],
          requirements: []
        });
        setEditingId(null);
      };

      return (
        <div className="min-h-screen bg-gray-50 p-8">
          <div className="max-w-6xl mx-auto">
            <h1 className="text-3xl font-bold text-gray-800 mb-8">Job Management System</h1>
            
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
              {/* Form */}
              <div className="bg-white rounded-lg shadow p-6">
                <h2 className="text-xl font-semibold mb-4">
                  {editingId ? 'Edit Job' : 'Create New Job'}
                </h2>
                
                <div className="space-y-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Job Name *
                    </label>
                    <input
                      type="text"
                      value={formData.jobName}
                      onChange={(e) => setFormData({...formData, jobName: e.target.value})}
                      className="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Order No. *
                    </label>
                    <input
                      type="text"
                      value={formData.orderNo}
                      onChange={(e) => setFormData({...formData, orderNo: e.target.value})}
                      className="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Due Date
                    </label>
                    <input
                      type="date"
                      value={formData.dueDate}
                      onChange={(e) => setFormData({...formData, dueDate: e.target.value})}
                      className="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Steps
                    </label>
                    <div className="flex gap-2 mb-2">
                      <input
                        type="text"
                        value={stepInput}
                        onChange={(e) => setStepInput(e.target.value)}
                        onKeyPress={(e) => e.key === 'Enter' && addStep()}
                        placeholder="Add a step"
                        className="flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                      />
                      <button
                        onClick={addStep}
                        className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                      >
                        Add
                      </button>
                    </div>
                    <div className="space-y-1">
                      {formData.steps.map((step, index) => (
                        <div key={index} className="flex items-center justify-between bg-gray-50 px-3 py-2 rounded">
                          <span className="text-sm">{index + 1}. {step}</span>
                          <button
                            onClick={() => removeStep(index)}
                            className="text-red-500 hover:text-red-700 text-sm"
                          >
                            Remove
                          </button>
                        </div>
                      ))}
                    </div>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                      Requirements
                    </label>
                    <div className="flex gap-2 mb-2">
                      <input
                        type="text"
                        value={reqInput}
                        onChange={(e) => setReqInput(e.target.value)}
                        onKeyPress={(e) => e.key === 'Enter' && addRequirement()}
                        placeholder="Add a requirement"
                        className="flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                      />
                      <button
                        onClick={addRequirement}
                        className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                      >
                        Add
                      </button>
                    </div>
                    <div className="space-y-1">
                      {formData.requirements.map((req, index) => (
                        <div key={index} className="flex items-center justify-between bg-gray-50 px-3 py-2 rounded">
                          <span className="text-sm">{req}</span>
                          <button
                            onClick={() => removeRequirement(index)}
                            className="text-red-500 hover:text-red-700 text-sm"
                          >
                            Remove
                          </button>
                        </div>
                      ))}
                    </div>
                  </div>

                  <div className="flex gap-2 pt-4">
                    <button
                      onClick={saveJob}
                      className="flex-1 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 font-medium"
                    >
                      {editingId ? 'Update Job' : 'Save Job'}
                    </button>
                    {editingId && (
                      <button
                        onClick={cancelEdit}
                        className="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
                      >
                        Cancel
                      </button>
                    )}
                  </div>
                </div>
              </div>

              {/* Jobs List */}
              <div className="bg-white rounded-lg shadow p-6">
                <h2 className="text-xl font-semibold mb-4">Jobs ({jobs.length})</h2>
                
                <div className="space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto">
                  {jobs.length === 0 ? (
                    <p className="text-gray-500 text-center py-8">No jobs created yet</p>
                  ) : (
                    jobs.map(job => (
                      <div key={job.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex justify-between items-start mb-3">
                          <div>
                            <h3 className="font-semibold text-lg">{job.jobName}</h3>
                            <p className="text-sm text-gray-600">Order: {job.orderNo}</p>
                            {job.dueDate && (
                              <p className="text-sm text-gray-600">Due: {job.dueDate}</p>
                            )}
                          </div>
                          <div className="flex gap-2">
                            <button
                              onClick={() => editJob(job)}
                              className="px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600"
                            >
                              Edit
                            </button>
                            <button
                              onClick={() => deleteJob(job.id)}
                              className="px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600"
                            >
                              Delete
                            </button>
                          </div>
                        </div>

                        {job.steps.length > 0 && (
                          <div className="mb-2">
                            <p className="text-sm font-medium text-gray-700 mb-1">Steps:</p>
                            <ol className="text-sm text-gray-600 ml-4 list-decimal">
                              {job.steps.map((step, i) => (
                                <li key={i}>{step}</li>
                              ))}
                            </ol>
                          </div>
                        )}

                        {job.requirements.length > 0 && (
                          <div>
                            <p className="text-sm font-medium text-gray-700 mb-1">Requirements:</p>
                            <ul className="text-sm text-gray-600 ml-4 list-disc">
                              {job.requirements.map((req, i) => (
                                <li key={i}>{req}</li>
                              ))}
                            </ul>
                          </div>
                        )}
                      </div>
                    ))
                  )}
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<JobManagementSystem />, document.getElementById('root'));
  </script>
</body>
</html>
